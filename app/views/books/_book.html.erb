<div class="card bg-white d-block text-wrap h-80 my-2 book-card"
  data-model_name="<%= Book.model_name.singular %>"
  data-id="<%= book.id %>">
  <div class="d-flex flex-column h-80">
    <div class="font-weight-bold px-4 py-2 book-header">
      <div class="pr-10">
        <%= book.title %> 
      </div>
      <div class="text-right position-absolute" style="top: 4px; right: 4px">
        
        <div class="btn-group">
          <button type="button" class="btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-ellipsis-v align-middle"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right text-middle">
            <%= link_to "タグ作成・削除", new_tag_path(book), class: "dropdown-item", remote: true %>
            <%= link_to "編集・タグ付け", edit_book_path(book), class: "dropdown-item", remote: true %>
            <div class="dropdown-item" data-bs-toggle="modal" data-bs-target="#staticBackdrop<%= book.id %>">削除</div>
              <%= form_with model: book, method: :delete do |f| %>
                <div class="modal fade" id="staticBackdrop<%= book.id %>" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">本当に削除しますか？</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn samazon-favorite-button border-dark text-dark" data-bs-dismiss="modal">閉じる</button>
                        <button type="submit" class="btn btn-outline-danger">削除</button>
                      </div>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>  
          </div>
        </div>
      </div>
    </div>
    <div class="card-text">
      <%= render partial: "books/tag", collection: book.tags, as: :tag %>
      <small class="text-muted">
        <%= book.created_at.strftime('%Y/%m/%d') %>
      </small>
    </div>
  </div>
</div>
